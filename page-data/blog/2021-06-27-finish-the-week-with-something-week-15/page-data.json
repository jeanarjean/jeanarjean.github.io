{"componentChunkName":"component---src-templates-blog-post-jsx","path":"/blog/2021-06-27-finish-the-week-with-something-week-15/","result":{"data":{"site":{"siteMetadata":{"title":"jean.arjean","author":"jean.arjean"}},"markdownRemark":{"id":"e071545f-f54c-58ce-b2ca-f04a762b8baf","html":"<h1>Summary</h1>\n<p>Acquired a new domain, setup some DNS stuff.</p>\n<h1>Kubernetes and Web Stuff</h1>\n<p>Acquired a new domain, huitoctobre.com, named after the song Huit Octobre 1971 by Cortex which was famously sampled by Madlib on the MF Doom\ntrack One Beer. This is the website I'm gonna use to host my projects. Otherwise I delved into automatic DNS management using\n<a href=\"https://www.digitalocean.com/community/tutorials/how-to-automatically-manage-dns-records-from-digitalocean-kubernetes-using-externaldns\">ExternalDNS</a>\nwhich lets you create an A record in Cloud Ocean by simply applying an annotations to a Kubernetes Service. I ended up having to modify\nthe default template Visual Studio generates to include annotations in the service.yaml file. This way I can assign a domain or subdomain name to my load balancer which is used as a gateway to my Reflection Service.</p>\n<deckgo-highlight-code yaml  terminal=\"none\"  highlight-lines=\"\">\n          <code slot=\"code\">apiVersion: v1\nkind: Service\nmetadata:\n  name: {{ template &quot;reflectionapi.fullname&quot; . }}\n  labels:\n    app: {{ template &quot;reflectionapi.name&quot; . }}\n    chart: {{ template &quot;reflectionapi.chart&quot; . }}\n    release: {{ .Release.Name }}\n    heritage: {{ .Release.Service }}\n{{- with .Values.service.annotations }}\n  annotations:\n{{ toYaml . | indent 4 }}\n{{- end }}\nspec:\n  type: {{ .Values.service.type }}\n  ports:\n    - port: {{ .Values.service.port }}\n      targetPort: http\n      protocol: TCP\n      name: http\n  selector:\n    app: {{ template &quot;reflectionapi.name&quot; . }}\n    release: {{ .Release.Name }}</code>\n        </deckgo-highlight-code>\n<p>Then I simply added the annotation value to my value.yaml file.</p>\n<deckgo-highlight-code yaml  terminal=\"none\"  highlight-lines=\"\">\n          <code slot=\"code\">service:\n  type: LoadBalancer\n  port: 80\n  annotations:\n    external-dns.alpha.kubernetes.io/hostname: &quot;huitoctobre.com&quot;</code>\n        </deckgo-highlight-code>","frontmatter":{"title":"Finish the Week with Something - Week 15","backgroundColor":"white","tags":["weekly","cycling","devops"],"date":"June 28, 2021","image":null}}},"pageContext":{"slug":"/blog/2021-06-27-finish-the-week-with-something-week-15/","previous":{"fields":{"slug":"/blog/2021-06-21-finish-the-week-with-something-week-14/"},"frontmatter":{"title":"Finish the Week with Something - Week 14","image":null}},"next":null}},"staticQueryHashes":["3868140423"]}